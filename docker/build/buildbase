#!/bin/bash
#defaults
branch=
repo=

#Allow them to be overriden on the command line
if [[ -n "$1" ]]; then
   branch=$1
fi;
if [[ -n "$2" ]]; then
   repo=$2
fi;

if [[ -n "${branch}" ]]; then
   branch_opt="--build-arg branch=${branch}"
fi;
if [[ -n "${repo}" ]]; then
   repo_opt="--build-arg repo=${repo}"
fi;

sudo docker image build -t hpccdev:base -f Dockerfile.base ${branch_opt} ${repo_opt} .
